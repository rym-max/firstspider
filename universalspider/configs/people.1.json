{
    "spider": "people",
    "website": "人民网",
    "type": "新闻",
    "index": "http://news.people.com.cn",
    "settings": {
        "USER_AGENT": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36",
        "ITEM_PIPELINES":{
            "universalspider.pipelines.NewsSpiderPipeline": 300
         },
     "DOWNLOAD_DELAY": 1
    },
    "start_urls": {
        "type": "dynamic",
        "method": "fromjson",
        "need_process": 1,
        "args":{
            "url":"http://news.people.com.cn",
            "pattern":"initPagination().+url: \"(.+?)\"",
            "group_num":2,
            "code1":"gbk",
            "re_mode":"re.DOTALL",
            "formatter":"http://news.people.com.cn%s?_%d",
            "code2":"utf-8",
            "key1":"items",
            "key2":"url",
            "need_unix":1
        }
    },
    "allowed_domains": [
        "people.com.cn"
    ],
    "core_words":[""],
    "filter_all":0,
    "need_text":0,
    

    "table":"news",

    "rules": "void",
    "item": {
        "class": "NewsItem",
        "loader": "NewsLoader",
        "attrs": {
            "title":[
                {
                    "method": "xpath",
                    "args": [
                        "//div[contains(@class,'text_title')]/h1//text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//h1[@id='p_title']/text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='title']/h2/text()"
                    ],
                    "re":"[\u4e00-\u9fa5a-zA-Z0-9《》：，。；？、（）() ]{1,}"
                }
            ],
            "url":[
                {
                    "method": "attr",
                    "args": [
                        "url"
                    ]
                }
            ],
            "text":[
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='box_con']//p//text()"
                        
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@id='p_content']//p//text()"
                        
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='artDet']//p//text()"
                        
                    ]
                }
            ],
            "datetime":[
                {
                    "method": "xpath",
                    "args":[
                        "//div[contains(@class,'text_title')]/div[@class='box01']/div[@class='fl']/text()"
                    ],
                    "re":"\\d+年\\d+月\\d+日\\d:\\d"
                },
                {
                    "method": "xpath",
                    "args":[
                        "//i[@id='p_publishtime']/text()"
                    ],
                    "re":"\\d+年\\d+月\\d+日\\d:\\d"
                },
                {
                    "method": "xpath",
                    "args":[
                        "//div[@class='artOri']/text()"
                    ],
                    "re":"\\d+年\\d+月\\d+日\\d:\\d"
                }
            ],
            "source":[
                {
                    "method":"xpath",
                    "args":[
                        "//div[contains(@class,'text_title')]/div[@class='box01']/div[@class='fl']/a/text()"
                    ]
                },
                {
                    "method":"xpath",
                    "args":[
                        "//i[@id='p_origin']/a/text()"
                    ]
                },
                {
                    "method":"xpath",
                    "args":[
                        "//div[@class='artOri']/a/text()"
                    ]
                }
            ],
            "author":[
                {
                    "method":"xpath",
                    "args":[
                        "//div[@class='edit']//text()"
                    ]
                },
                {
                    "method":"xpath",
                    "args":[
                        "//div[@class='p_editor']/text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='editor']/text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='title']/p/text()"
                    ]
                }
            ],
            "category":[
                {
                    "method":"attr",
                    "args":[
                        "url"
                    ],
                    "re":"http://(\\w+)/.people"
                }
            ]
        }
    }
}