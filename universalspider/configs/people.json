{
    "spider": "people",
    "website": "人民网",
    "type": "新闻",
    "index": "http://news.people.com.cn",
    "settings": {
        "USER_AGENT": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36",
        "ITEM_PIPELINES":{
            "universalspider.pipelines.NewsSQLServerPipeline": 300
         },
     "DOWNLOAD_DELAY": 1
    },
    "start_urls": {
        "type": "dynamic",
        "method": "fromjson",
        "need_process": 1,
        "args":{
            "url":"http://news.people.com.cn",
            "pattern":"initPagination().+url: \"(.+?)\"",
            "group_num":2,
            "code1":"gbk",
            "re_mode":"re.DOTALL",
            "formatter":"http://news.people.com.cn%s?_%d",
            "code2":"utf-8",
            "key1":"items",
            "key2":"url",
            "need_unix":1
        }
    },
    "allowed_domains": [
        "people.com.cn"
    ],
    "core_words":[""],
    "language":"CHINESE",
    "filter_all":0,
    "need_text":0,
    "filter":["中德","德国"],

    "table":"news",

    "rules": "void",
    "item": {
        "class": "NewsItem",
        "loader": "NewsLoader",
        "attrs": {
            "title":[
                {
                    "method" : "xpath",
                    "args" : [
                        "//title/text()"
                    ],
                    "re" : "(.*)--"
                }
            ],
            "url":[
                {
                    "method": "attr",
                    "args": [
                        "url"
                    ]
                }
            ],
            "text":[
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='box_con']//p//text()"
                        
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@id='p_content']//p//text()"
                        
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='artDet']//p//text()"
                        
                    ]
                },
                {
                    "method":"xpath",
                    "args": [
                        "//div[@id='picG']//text()"
                    ]
                },
                {
                    "method" : "xpath",
                    "args" : [
                        "//div[@class='text']//p//text()"
                    ]
                },
                {
                    "method" : "xpath",
                    "args" : [
                        "//div[@class='show_text']//p//text()"
                    ]
                }
            ],
            "datetime":[
                {
                    "method" : "xpath",
                    "args":[
                        "//meta[@name='publishdate']/@content"
                    ]
                }
            ],
            "source":[
                {
                    "method" : "value",
                    "args":[
                        "人民网"
                    ]
                }
            ],
            "author":[
                {
                    "method":"xpath",
                    "args":[
                        "//div[@class='edit']//text()"
                    ]
                },
                {
                    "method":"xpath",
                    "args":[
                        "//div[@class='p_editor']/text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='editor']/text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='title']/p/text()"
                    ]
                },
                {
                    "method": "xpath",
                    "args": [
                        "//div[@class='show_text']/p[last()]/text()"
                    ]
                }
            ],
            "category":[
                {
                    "method" : "xpath",
                    "args" : [
                        "//title/text()"
                    ],
                    "re" : "--(.*?)-"
                }
            ]
        }
    }
}